!function(){"use strict";var n={dev:"/dist",prod:"https://deo.shopeemobile.com/shopee/shopee-trackingsdk-live-sg",staging:"https://tms.traffic.staging.shopee.io/sdk",test:"https://tms.traffic.test.shopee.io/sdk"},t=n.prod,e={requireJS:"".concat(t,"/require.js"),trackingSDKRequireJS:"".concat(t,"/require-trackingsdk.js")},o=!1,r=void 0;var a,i,c,s=e.trackingSDKRequireJS,u="7fc109b",f={core:["@shopee/tracking-core@".concat(u)],ubt:["@shopee/tracking-ubt@".concat(u)],algo:["@shopee/tracking-algo@".concat(u)],apms:["@shopee/tracking-apms@".concat(u)],mmp:["@shopee/tracking-mmp@".concat(u)],exposure:["@shopee/tracking-exposure@".concat(u)],debugview:["@shopee/tracking-internal-debugview@".concat(u),function(){try{if(new URL(self.window.location.href).searchParams.get("tms_debug_view_token"))return!0;var n=self.window.localStorage.getItem("tms_debug_view_options");return Boolean(n)}catch(n){return!1}}]},p=function(e){return e.includes("-internal-")?"".concat(n.staging,"/amd/").concat(e,".min.js"):"".concat(t,"/amd/").concat(e,".min.js")},d=void 0;a=s,i=function(){var n=window.trackingSDK.require;n.config({waitSeconds:30});var t=window.trackingSDK,e=function(e){var o=Array.isArray(e)?[e[0],"function"==typeof e[1]?e[1](e[0]):e[1]]:[e,"function"==typeof t.param?t.param(e):t.param],r=o[0],a=o[1],i=void 0===a?{}:a,c=f[r];if(c){var s=c[0],u=c[1];(void 0===u?function(){return!0}:u)()&&n([p(s)],(function(n){var e=new("default"in n?n.default:n)(i);e.init({version:t.version,sdkConfig:d}).then((function(){t[r]=function(n){for(var t,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return(t=e)[n].apply(t,o)},(t.store[r]||[]).forEach((function(n){var e;(e=t)[r].apply(e,n)})),delete t.store[r]}))}))}else console.error("[@shopee/tracking-loader error] ".concat(r," does not exist"))};t.load=function(n){null==n||n.forEach((function(n){var o="ubt",r=t.param;"string"==typeof n&&(o=n),Array.isArray(n)&&(o=n[0]||o,r=n[1]||r),o in f&&t.__generateModule(o),e([o,r])}))};var a=function(){var n=window.trackingSDK;if(n&&n.param)return"function"==typeof n.param?n.param()||n.param("ubt"):n.param}();if(!a)throw new Error("Missing Init Params");(function(n){if(void 0===n&&(n=!1),o)return Promise.resolve(r);o=!0;var t=n?"_testing":"";return new Promise((function(n,e){fetch("https://content.garena.com/shopee/track_config/split_by_market_config".concat(t,".json")).then((function(n){if(!n.ok)throw new Error("Response was not ok");return n.json()})).then((function(t){r=t,n(t)})).catch((function(n){e(n)}))}))})(a.__testCCMS__).then((function(n){d=n})).catch((function(n){console.warn("get sdk config",n)})).finally((function(){if("function"==typeof n&&t){var o=t.dep;null==o||o.forEach(e)}}))},(c=document.createElement("script")).async=!0,c.onload=i,c.src=a,document.body.appendChild(c)}();